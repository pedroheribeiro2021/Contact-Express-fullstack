{"ast":null,"code":"var _jsxFileName = \"C:\\\\M6\\\\S1\\\\user-CRUD-fullstack\\\\frontend\\\\src\\\\context\\\\userContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext } from \"react\";\nimport { api } from \"../services/api\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext({});\nexport const UserProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const navigate = useHistory();\n  const userLogin = data => {\n\n    // api.post(`/sessions `, data)\n    // .then((resp) => {\n    //     console.log(resp.data.user)\n    //     setUser(resp.data.user)\n    //     localStorage.setItem('@token', resp.data.token)\n    //     localStorage.setItem('@id', resp.data.user.id)\n    //     navigate('/dashboard')\n    //     toast.success('Login efetuado com sucesso!', {\n    //         position: \"top-right\",\n    //         autoClose: 2000,\n    //         hideProgressBar: false,\n    //         closeOnClick: true,\n    //         pauseOnHover: true,\n    //         draggable: true,\n    //         progress: undefined,\n    //     })\n    // })\n    // .catch((err) => {\n    //     console.log(err)\n    //     toast.error('Erro de credenciais!', {\n    //         position: \"top-right\",\n    //         autoClose: 2000,\n    //         hideProgressBar: false,\n    //         closeOnClick: true,\n    //         pauseOnHover: true,\n    //         draggable: true,\n    //         progress: undefined,\n    //         })\n    // })\n  };\n  const userRegister = async data => {\n    await api.post(`/user`, data).then(resp => {\n      console.log(resp);\n      // toast.success('Cadastro efetuado com sucesso!', {\n      //     position: \"top-right\",\n      //     autoClose: 2000,\n      //     hideProgressBar: false,\n      //     closeOnClick: true,\n      //     pauseOnHover: true,\n      //     draggable: true,\n      //     progress: undefined,\n      // })\n      navigate('/');\n    }).catch(err => {\n      // const requestError = err as AxiosError<iApiError>\n      console.log(err);\n      // toast.error(requestError.response?.data.message, {\n      //     position: \"top-right\",\n      //     autoClose: 2000,\n      //     hideProgressBar: false,\n      //     closeOnClick: true,\n      //     pauseOnHover: true,\n      //     draggable: true,\n      //     progress: undefined,\n      //     })\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      userLogin,\n      userRegister\n      // user,\n      // setCurrentRoute\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n};\n_s(UserProvider, \"mUE+Es3iWkh7RGUeNiDmS10IfPM=\", false, function () {\n  return [useHistory];\n});\n_c = UserProvider;\nexport const useUserContext = () => {\n  _s2();\n  return useContext(UserContext);\n};\n_s2(useUserContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","api","useHistory","jsxDEV","_jsxDEV","UserContext","UserProvider","_ref","_s","children","navigate","userLogin","data","userRegister","post","then","resp","console","log","catch","err","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useUserContext","_s2","useContext","$RefreshReg$"],"sources":["C:/M6/S1/user-CRUD-fullstack/frontend/src/context/userContext.tsx"],"sourcesContent":["import { AxiosError } from \"axios\";\r\nimport { createContext, ReactNode } from \"react\";\r\nimport { api } from \"../services/api\";\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\n\r\ninterface iUserProps {\r\n    children: ReactNode;\r\n}\r\n\r\ninterface iDataLogin {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface iDataRegister {\r\n    name: string;\r\n    email: string;\r\n    password: string;\r\n    phone: string;\r\n}\r\n\r\nexport interface iUserContext {\r\n    // user: iUser | null;\r\n    // setCurrentRoute: React.Dispatch<SetStateAction<string | null>>;\r\n    userLogin: (data: iDataLogin) => void;\r\n    userRegister: (data: iDataRegister) => void;\r\n}\r\n\r\nexport const UserContext = createContext<iUserContext>({} as iUserContext)\r\n\r\nexport const UserProvider = ({children}: iUserProps) => {\r\n\r\n    const navigate: any = useHistory()\r\n\r\n    const userLogin = (data: iDataLogin) => {\r\n\r\n        // api.post(`/sessions `, data)\r\n        // .then((resp) => {\r\n        //     console.log(resp.data.user)\r\n        //     setUser(resp.data.user)\r\n        //     localStorage.setItem('@token', resp.data.token)\r\n        //     localStorage.setItem('@id', resp.data.user.id)\r\n        //     navigate('/dashboard')\r\n        //     toast.success('Login efetuado com sucesso!', {\r\n        //         position: \"top-right\",\r\n        //         autoClose: 2000,\r\n        //         hideProgressBar: false,\r\n        //         closeOnClick: true,\r\n        //         pauseOnHover: true,\r\n        //         draggable: true,\r\n        //         progress: undefined,\r\n        //     })\r\n        // })\r\n        // .catch((err) => {\r\n        //     console.log(err)\r\n        //     toast.error('Erro de credenciais!', {\r\n        //         position: \"top-right\",\r\n        //         autoClose: 2000,\r\n        //         hideProgressBar: false,\r\n        //         closeOnClick: true,\r\n        //         pauseOnHover: true,\r\n        //         draggable: true,\r\n        //         progress: undefined,\r\n        //         })\r\n        // })\r\n    }\r\n\r\n    const userRegister = async(data: iDataRegister) => {\r\n\r\n        await api.post(`/user`, data)\r\n        .then((resp) => {\r\n            console.log(resp)\r\n            // toast.success('Cadastro efetuado com sucesso!', {\r\n            //     position: \"top-right\",\r\n            //     autoClose: 2000,\r\n            //     hideProgressBar: false,\r\n            //     closeOnClick: true,\r\n            //     pauseOnHover: true,\r\n            //     draggable: true,\r\n            //     progress: undefined,\r\n            // })\r\n            navigate('/')\r\n        })\r\n        .catch((err) => {\r\n            // const requestError = err as AxiosError<iApiError>\r\n            console.log(err)\r\n            // toast.error(requestError.response?.data.message, {\r\n            //     position: \"top-right\",\r\n            //     autoClose: 2000,\r\n            //     hideProgressBar: false,\r\n            //     closeOnClick: true,\r\n            //     pauseOnHover: true,\r\n            //     draggable: true,\r\n            //     progress: undefined,\r\n            //     })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <UserContext.Provider value={{\r\n        userLogin,\r\n        userRegister, \r\n        // user,\r\n        // setCurrentRoute\r\n        }}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useUserContext = () => useContext(UserContext)"],"mappings":";;;AACA,SAASA,aAAa,QAAmB,OAAO;AAChD,SAASC,GAAG,QAAQ,iBAAiB;AACrC,SAASC,UAAU,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AA0B7C,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAe,CAAC,CAAC,CAAiB;AAE1E,OAAO,MAAMM,YAAY,GAAGC,IAAA,IAA4B;EAAAC,EAAA;EAAA,IAA3B;IAACC;EAAoB,CAAC,GAAAF,IAAA;EAE/C,MAAMG,QAAa,GAAGR,UAAU,EAAE;EAElC,MAAMS,SAAS,GAAIC,IAAgB,IAAK;;IAEpC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACH;EAED,MAAMC,YAAY,GAAG,MAAMD,IAAmB,IAAK;IAE/C,MAAMX,GAAG,CAACa,IAAI,CAAE,OAAM,EAAEF,IAAI,CAAC,CAC5BG,IAAI,CAAEC,IAAI,IAAK;MACZC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAN,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,CAAC,CACDS,KAAK,CAAEC,GAAG,IAAK;MACZ;MACAH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;MAChB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACJ,CAAC,CAAC;EACN,CAAC;;EAED,oBACIhB,OAAA,CAACC,WAAW,CAACgB,QAAQ;IAACC,KAAK,EAAE;MAC7BX,SAAS;MACTE;MACA;MACA;IACA,CAAE;IAAAJ,QAAA,EACGA;EAAQ;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACU;AAE/B,CAAC;AAAAlB,EAAA,CA9EYF,YAAY;EAAA,QAECJ,UAAU;AAAA;AAAAyB,EAAA,GAFvBrB,YAAY;AAgFzB,OAAO,MAAMsB,cAAc,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMC,UAAU,CAACzB,WAAW,CAAC;AAAA;AAAAwB,GAAA,CAA9CD,cAAc;AAAA,IAAAD,EAAA;AAAAI,YAAA,CAAAJ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}